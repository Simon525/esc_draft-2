<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="testing.css">
</head>
<body>
  <!-- main box container -->
  <div id="box-container">
    <!-- buttons for reset and getting data from server -->
    <button class = "button1" id = "Algo" onclick = "getData()" style ="left:100px; top:100px; position: absolute;">Press</button>
    <button class = "button1" id = "Reset" onclick = "Reset()" style ="left:100px; top:200px; position: absolute;">Reset</button>
    <!-- buttons for Locations -->
    <button class = "button" id = "1" onclick = "onButtonClick(this.id)"  style ="left:697px; top:119px; height: 54px; width: 54px; position: absolute; background:red;">L1</button>
    <button class = "button" id = "2" onclick = "onButtonClick(this.id)" style ="left:1234.5px; top: 639px; height: 107px; width: 107px; position: absolute;transform: rotate(-39deg); background:red;">L2</button>
    <button class = "button" id = "3" onclick = "onButtonClick(this.id)" style ="left:1336px; top: 578px; height: 63px; width: 63px; position: absolute;transform: rotate(-39deg); background:red;">L3</button>
    <button class = "button" id = "4" onclick = "onButtonClick(this.id)"  style ="left:419px; top:413px; height: 66px; width: 75px; position: absolute; background:red;">L4</button>
    <button class = "button" id = "5" onclick = "onButtonClick(this.id)"  style ="left:440px; top:359px; height: 54px; width: 54px; position: absolute; background:red;">L5</button>
    <button class = "button" id = "6" onclick = "onButtonClick(this.id)"  style ="left:519px; top:254px; height: 108px; width: 108px; position: absolute; background:red;">L6</button>
    <button class = "button" id = "7" onclick = "onButtonClick(this.id)"  style ="left:640.5px; top:320.5px; height: 54px; width: 54px; position: absolute; background:red;">L7</button>
    <button class = "button" id = "8" onclick = "onButtonClick(this.id)"  style ="left:705px; top:380px; height: 132px; width: 75px; position: absolute; background:red;">L8</button>
    <button class = "button" id = "9" onclick = "onButtonClick(this.id)"  style ="left:539px; top:385px; height: 85px; width: 85px; position: absolute; background:red;">L9</button>
    <button class = "button" id = "10" onclick = "onButtonClick(this.id)"  style ="left:777.5px; top:254.5px; height: 66px; width: 66px; position: absolute; background:red;">L10</button>
    <button class = "button" id = "11" onclick = "onButtonClick(this.id)"  style ="left:898px; top:314px; height: 63.5px; width: 70.5px; position: absolute; background:red;">L11</button>
    <button class = "button" id = "12" onclick = "onButtonClick(this.id)"  style ="left:898px; top:380px; height: 50px; width: 72px; position: absolute; background:red;">L12</button>
    <button class = "button" id = "13" onclick = "onButtonClick(this.id)"  style ="left:970.5px; top:358.5px; height: 69.5px; width: 70.5px; position: absolute; background:red;">L13</button>
    <button class = "button" id = "14" onclick = "onButtonClick(this.id)"  style ="left:1041.5px; top:332.5px; height: 54.5px; width: 60.5px; position: absolute; background:red;">L14</button>
    <button class = "button" id = "15" onclick = "onButtonClick(this.id)"  style ="left:1041.5px; top:389.5px; height: 40.5px; width: 70.5px; position: absolute; background:red;">L15</button>
    <button class = "button" id = "16" onclick = "onButtonClick(this.id)"  style ="left:1214.5px; top:459.5px; height: 60.5px; width: 60.5px; position: absolute; background:red;">L16</button>
    <button class = "button" id = "17" onclick = "onButtonClick(this.id)"  style ="left:1214.5px; top:396.5px; height: 60.5px; width: 60.5px; position: absolute; background:red;">L17</button>
    <button class = "button" id = "18" onclick = "onButtonClick(this.id)"  style ="left:1210.5px; top:302.5px; height: 60.5px; width: 60.5px; position: absolute; background:red;">L18</button>
    <button class = "button" id = "19" onclick = "onButtonClick(this.id)"  style ="left:1290.5px; top:307.5px; height: 51.5px; width: 49.5px; position: absolute; background:red;">L19</button>
    <button class = "button" id = "20" onclick = "onButtonClick(this.id)"  style ="left:1343.5px; top:274.5px; height: 51.5px; width: 49.5px; position: absolute; background:red;">L20</button>
    <button class = "button" id = "21" onclick = "onButtonClick(this.id)"  style ="left:1396.5px; top:280.5px; height: 40.5px; width: 40.5px; position: absolute; background:red;">L21</button>
    <button class = "button" id = "22" onclick = "onButtonClick(this.id)"  style ="left:1375.5px; top:377.5px; height: 80.5px; width: 80.5px; position: absolute; background:red;">L22</button>
    <button class = "button" id = "23" onclick = "onButtonClick(this.id)" style ="left:549px; top: 554px; height: 40.6px; width: 40.6px; position: absolute;transform: rotate(40.46deg); background:red;">L23</button>
    <button class = "button" id = "24" onclick = "onButtonClick(this.id)" style ="left:580px; top: 580px; height: 40.6px; width: 40.6px; position: absolute;transform: rotate(40.46deg); background:red;">L24</button>
    <button class = "button" id = "25" onclick = "onButtonClick(this.id)" style ="left:612px; top: 607px; height: 40.6px; width: 40.6px; position: absolute;transform: rotate(40.46deg); background:red;">L25</button>
    <button class = "button" id = "26" onclick = "onButtonClick(this.id)" style ="left:645px; top: 634px; height: 40.6px; width: 40.6px; position: absolute;transform: rotate(40.46deg); background:red;">L26</button>
    <button class = "button" id = "27" onclick = "onButtonClick(this.id)" style ="left:677px; top: 661px; height: 40.6px; width: 40.6px; position: absolute;transform: rotate(40.46deg); background:red;">L27</button>
    <button class = "button" id = "28" onclick = "onButtonClick(this.id)" style ="left:710px; top: 687px; height: 40.6px; width: 40.6px; position: absolute;transform: rotate(40.46deg); background:red;">L28</button>
    <button class = "button" id = "29" onclick = "onButtonClick(this.id)" style ="left:619px; top: 541px; height: 71.7px; width: 89.8px; position: absolute;transform: rotate(40.46deg); background:red;">L29</button>
    <button class = "button" id = "30" onclick = "onButtonClick(this.id)" style ="left:718px; top: 647px; height: 40.46px; width: 61.67px; position: absolute;transform: rotate(40.46deg); background:red;">L30</button>
    <img class = "img" src = "map_base.png">
  </div>
</body>
</html>

<script type="text/javascript">
  //function for changing color
  function change_with_data(id)
  {
    if (document.getElementById(id).style.background == 'red') {
            document.getElementById(id).style.background = 'green'; 
            //document.getElementById(id).innerHTML = "L" + id + "<br/>Allocated" ; 
        }
        else {
            document.getElementById(id).style.background = 'red';
            //document.getElementById(id).innerHTML = "L" + id;
        }
  }
  //function for reset button
  function Reset(){
    var buttons = document.getElementsByClassName('button');
    for(var i=0; i<buttons.length; i++){
      buttons[i].style.background = 'red';
      if((buttons[i].id != "Algo") && (buttons[i].id != "Reset")){
      buttons[i].innerHTML = "L" + buttons[i].id;
    }
      document.getElementById('Algo').disabled = false; 
    }
  }
  //function for getting an info from server
  function getData(){
    for(i=1;i<31;i++){
       document.getElementById('textInput'+ i).className="hide";
       document.getElementById("tb"+ i).value ="";
     }
    var req = new XMLHttpRequest();
    req.open("get","http://jsonplaceholder.typicode.com/");
    req.onload=function(){
      //alert(1);
      var _TheArray = [["1","2","1"],["2","1","1"],["3","4","1"],["4","5","1"],["5","3","0"],["6","9","1"],["7","10","1"],["8","6","1"],["9","11","1"],["10","7","0"],["11","14","0"],["12","8","1"],["13","12","1"],["14","20","1"],["15","17","1"],["16","26","1"],["17","22","1"],["18","16","1"],["19","19","1"],["20","24","1"],["21","23","1"],["22","28","1"],["23","27","1"],["24","15","1"],["25","13","1"],["26","30","1"],["27","21","1"],["28","25","1"],["29","29","1"],["30","18","1"]];
      for (var i=0; i<_TheArray.length; i++){
        //console.log(_TheArray[[i][2]]);
        if (_TheArray[i][2] != 0) {
          change_with_data(_TheArray[i][1]);
          document.getElementById(_TheArray[i][1]).innerHTML = "L" + _TheArray[i][1] + "<br/>" + _TheArray[i][0] ;
          document.getElementById('Algo').disabled = 'disabled'; 
        }
      }
    };
    req.send();
  }
</script> 
